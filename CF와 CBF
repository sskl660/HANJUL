# 🌈  추천 알고리즘

추천 시스템 : 컨텐츠의 내용에 기반하거나, 사람들의 행동들을 모은 후, 전문적인 알고리즘을 활용하여 사람들에게 컨텐츠를 추천 해주는 솔루션

목적

1. 시간 단축 : 검색 및 항목을 타지 않고, Direct로 컨텐츠를 추천해 준다.
2. 커버리지 확보 : 예측 못한 컨텐츠를 접하게 하여, 사용자가 선택하는 컨텐츠 폭을 넓혀준다.

만들기 전에 알아둘 점

1. 만약 큰 데이터베이스를 토대로 온라인 추천 시스템을 개발하고 싶다면, 과정을 크게 1) 상위 N개의 후보(top-N candidates)를 고르고, 2) 순위를 매기는 것으로 나누는 것이 좋을 것
2. 모델의 성능을 어떻게 확인할 수 있을까? 표준적인 성능 측정 기준도 있지만, 추천 시스템만을 위한 측정 기준도 존재한다.
3. 분류 알고리즘으로 추천 시스템을 만들게 되면 negative samples를 만드는 것을 추천한다. 주의할 점은, 추천된 아이템을 유저가 샀다고 해서 그 물건을 positive sample에 추가하고 나머지를 negative sample에 추가해서는 안된다.
4. 알고리즘 성능을 확인하기 위해서는 온라인 점수와 오프라인 점수를 둘 다 고려하는 게 좋다. 고거 데이터만으로 훈련된 모델은 최근 트렌드나 선호사항을 파악할 수 없기 때문에 원시적인 추천 밖에 못하기 때문이다.

## 협업 필터링(Collaborative Filtering, CF)

> 많은 사용자들로부터 얻은 기호 정보에 따라 사용자들의 관심사들을 자동적으로 예측하게 해주는 방법

포인트 : 많은 사용자들로부터 얻은 기호 정보

사용자의 기호 정보가 집단 지성에서의 다수의 개체가 되는 것이다.

### 1. 사용자 기반 추천 (User-based Recommendation)

나와 비슷한 성향을 지닌 사용자를 기반으로, 그 사람이 구매한 상품을 추천하는 방식

ex) 음식점 콜라 추천, SNS 친구 추천

### 2. 아이템 기반 추천 (Item-based Recommendation)

내가 이전에 구매했던 아이템을 기반으로, 그 상품과 유사한 다른 상품을 추천하는 방식

ex) 함께 구매되는 경우의 빈도 분석, 측정. 콜라와 사이다

## 협업 필터링 방식의 한계

### 1. 콜드 스타트 (Cold Start)

기존 데이터!

아이템 기반 추천방식에서, 새로운 아이템이 출시되더라도 이를 추천할 수 있는 정보가 쌓일 때까지 추천이 어려울 것이다.

'새로 시작할 때의 곤란함'

**시스템이 아직 충분한 정보를 모으지 못한 사용자에 대한 추론을 이끌어 낼 수 없는 문제**

### 2. 계산 효율 저하

협업 필터링은 계산량이 비교적 많은 알고리즘이기 때문에, 사용자가 많아질수록 계산이 몇 시간에서 길게는 며칠까지 걸리는 경우도 종종 발생한다.

사용자가 일정 수준 이상이어야 정확한 결과를 낼 수 있는 반면 시간이 더욱 많이 걸리게 된다는 점은 협업 필터링 알고리즘의 문제점이자 딜레마.

### 3. 롱테일(Long Tail)

파레토 법칙을 그래프로 나타내었을 때 꼬리처럼 긴 부분을 형성하는 80%의 부분을 일컫는 말.

**사용자들이 관심을 많이 보이는 소수의 콘텐츠가 전체 추천 콘텐츠로 보이는 비율이 높은 '비대칭적 쏠림 현상'이 발생한다** 는 의미.

아이템이나 콘텐츠의 수가 많다고 하더라도 사용자들은 소수의 인기 있는 항목에만 관심을 보이기 마련.

따라서 사용자들의 관심이 저조한 항목은 정보가 부족하여 추천되지 못하는 문제점이 발생할 수 있다.

인간의 집단지성은 협업 필터링의 **한계 극복을 위해 '콘텐츠 기반 필터링' 방식**을 고안해냈다!

## 콘텐츠 기반 필터링 (Contents-based Filtering, CBF)

콘텐츠에 대한 분석을 기반으로 추천하는 방식

ex) 영화 콘텐츠 - 스토리나 등장인물 / 상품 - 상세 페이지의 상품 설명 분석

장점 :

많은 양의 사용자 행동 정보가 필요하지 않아 콜드 스타트 문제점이 없다는 것. 

아이템과 사용자 간의 행동을 분석하는 것이 아니라 콘텐츠 자체를 분석하기 때문.

그럼 콘텐츠는 어떻게 분석하고 분류?

이 작업은 기계가 할 수도, 사람이 할 수도 있습니다.

ex) 넷플릭스에 올라오는 콘텐츠 분류 방식

넷플릭스에 올라오는 콘텐츠는 50명의 태거(Tagger)에 의해 분류된다.

이들의 역할은 콘텐츠를 면밀하게 보고 여기에 태그를 다는 것이다. 태거 덕분에 사용자에게 더욱 정교한 추천을 할 수 있다. 사람이 단 태그를 바탕으로 콘텐츠를 5만 종으로 나눠 정리하기 때문

인터넷 신문사에서는 주로 이 업무를 기계가 실행한다. 이 때 사용되는 기술이 **텍스트 마이닝 기술**!

### 콘텐츠 기반 필터링의 문제점

### 메타 정보의 한정성

상품의 프로파일을 모두 함축하는 데에 한계가 있다는 점

ex) BTS의 팬 김싸피 가정. 김싸피는 BTS중에 특히 정국을 좋아한다. 그와 관련 있는 신문 기사를 주로 찾아봤다.

하지만 기사 내용만으로 콘텐츠를 분류해야 하는 신문사 알고리즘 입장에서는, 김싸피의 성향을 세부적으로 파악하기 어렵다. BTS 전체의 기사 텍스트와 BTS 중 한 명의 멤버에 대한 기사 텍스트에서 큰 차이가 없기 때문이다.

여기서 **콘텐츠 기반 필터링의 정밀성이 떨어지는 문제** 발생!

### 최신 알고리즘에 대하여..

앞서 말한 CF, CBF 방식의 한계 때문에, 최근에는 새로운 방식의 추천 시스템이 개발되고 있다.

그 중 각광받는 두가지 최신 알고리즘!

### 1. 하이브리드 추천 시스템 (Hybrid Recommender Systems)

하이브리드 추천 시스템은 협업 필터링과 콘텐츠 기반 필터링을 조합하여 상호 보완적으로 개발된 알고리즘 이다.

협업 필터링의 콜드 스타트 문제 해결을 위해 **신규 콘텐츠는 콘텐츠 기반 필터링 기술**로 분석하여 추천하고, **충분한 데이터가 쌓인 후부터는 협업 필터링**으로 추천의 정확성을 높이는 방식이다.

데이터 분석 전문 기업 '빅인사이트'에서 제공하는 추천 알고리즘 서비스 또한 하이브리드 추천 방식을 사용 중이며, 현재 다수의 유명 화장품 브랜드와 의류 브랜드 이커머스에서도 사용 중이다.

### 2. 머신러닝 추천 시스템 (Machine Learning Recommender Systems)

머신러닝의 학습으로 추천하는 방식도 많이 개발되고 있다.

사용자에게 추천할 후보군을 먼저 보여주고 기계가 그에 대한 사용자 반응을 학습하며 점점 더 정교한 결과를 도출해내는 방식

특정 사용자에게 그와 비슷한 행동을 보인 다른 사용자가 구매한 상품을 노출시킴으로써 구매 전환율을 상승시키는 방법으로 활용할 수 있다.

협업 필터링은 제안된 지 20년이 지난 기술이지만 간결함과 정확성 덕분에 아직까지도 많은 추천 시스템에서 활용되고 있다.
